# Lmanage
## What is it.
LManage is a collection of useful tools for [Looker](https://looker.com/) admins to help curate and cleanup content and it's associated source [LookML](https://docs.looker.com/data-modeling/learning-lookml/what-is-lookml).

LManage will ultimately have many different commands.
### Commands
#### mapview
The mapview command will find the etymology of the content on your dashboard, exporting a CSV that looks like this.
|   | dashboard_id | element_id | sql_joins                                                                                                                                                                             | fields_used                                          | sql_table_name                | potential_join                                                                                                                                                                                                                                                      | used_joins                                                                                                                                                                                                                                                          | used_view_names                                                                                                                                           | unused_joins                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                     |                                                                                                                                                                           |                                                                                                                                                                                       |                                                                                                    |                                                                                        |
|---|--------------|------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|-------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------|
| 0 | 1            | 1          | ['`looker-private-demo.ecomm.order_items`']                                                                                                                                           | "[""order_items.created_month""                      | ""order_items.count""]"       | "['`looker-private-demo.ecomm.distribution_centers`', '`looker-private-demo.ecomm.products`', '`looker-private-demo.ecomm.users`', '`looker-private-demo.ecomm.order_items`', '`looker-private-demo.ecomm.inventory_items`', '`looker-private-demo.ecomm.events`']" | "['order_items', 'order_facts', 'inventory_items', 'users', 'user_order_facts', 'products', 'repeat_purchase_facts', 'distribution_centers', 'test_ndt']"                                                                                                           | ['`looker-private-demo.ecomm.order_items`']                                                                                                               | ['order_items']                                                                                                                                                                                                                                                     | "['distribution_centers', 'inventory_items', 'order_facts', 'products', 'repeat_purchase_facts', 'test_ndt', 'user_order_facts', 'users']"                                                                                                                          |                                                                                                                                                                           |                                                                                                                                                                                       |                                                                                                    |                                                                                        |
| 1 | 1            | 2          | "['`looker-private-demo.ecomm.products`', '`looker-private-demo.ecomm.inventory_items`', '`looker-private-demo.ecomm.order_items`']"                                                  | "[""inventory_items.product_distribution_center_id"" | ""products.department""       | ""products.count""]"                                                                                                                                                                                                                                                | "['`looker-private-demo.ecomm.distribution_centers`', '`looker-private-demo.ecomm.products`', '`looker-private-demo.ecomm.users`', '`looker-private-demo.ecomm.order_items`', '`looker-private-demo.ecomm.inventory_items`', '`looker-private-demo.ecomm.events`']" | "['order_items', 'order_facts', 'inventory_items', 'users', 'user_order_facts', 'products', 'repeat_purchase_facts', 'distribution_centers', 'test_ndt']" | "['`looker-private-demo.ecomm.products`', '`looker-private-demo.ecomm.inventory_items`', '`looker-private-demo.ecomm.order_items`']"                                                                                                                                | "['products', 'order_items', 'inventory_items']"                                                                                                                                                                                                                    | "['distribution_centers', 'order_facts', 'repeat_purchase_facts', 'test_ndt', 'user_order_facts', 'users']"                                                               |                                                                                                                                                                                       |                                                                                                    |                                                                                        |
| 2 | 1            | 3          | "['`looker-private-demo.ecomm.users`', '`looker-private-demo.ecomm.inventory_items`', '`looker-private-demo.ecomm.order_items`', '`looker-private-demo.ecomm.products`']"             | "[""products.department""                            | ""products.count""            | ""inventory_items.count""                                                                                                                                                                                                                                           | ""users.city""                                                                                                                                                                                                                                                      | ""users.age""]"                                                                                                                                           | "['`looker-private-demo.ecomm.distribution_centers`', '`looker-private-demo.ecomm.products`', '`looker-private-demo.ecomm.users`', '`looker-private-demo.ecomm.order_items`', '`looker-private-demo.ecomm.inventory_items`', '`looker-private-demo.ecomm.events`']" | "['order_items', 'order_facts', 'inventory_items', 'users', 'user_order_facts', 'products', 'repeat_purchase_facts', 'distribution_centers', 'test_ndt']"                                                                                                           | "['`looker-private-demo.ecomm.users`', '`looker-private-demo.ecomm.inventory_items`', '`looker-private-demo.ecomm.order_items`', '`looker-private-demo.ecomm.products`']" | "['products', 'users', 'order_items', 'inventory_items']"                                                                                                                             | "['distribution_centers', 'order_facts', 'repeat_purchase_facts', 'test_ndt', 'user_order_facts']" |                                                                                        |
| 3 | 1            | 5          | "['`looker-private-demo.ecomm.users`', '`looker-private-demo.ecomm.inventory_items`', 'test_ndt', '`looker-private-demo.ecomm.products`', '`looker-private-demo.ecomm.order_items`']" | "[""order_items.total_revenue""                      | ""order_items.created_month"" | ""order_items.user_id""                                                                                                                                                                                                                                             | ""test_ndt.total_revenue""                                                                                                                                                                                                                                          | ""test_ndt.user_id""                                                                                                                                      | ""products.brand""]"                                                                                                                                                                                                                                                | "['`looker-private-demo.ecomm.distribution_centers`', '`looker-private-demo.ecomm.products`', '`looker-private-demo.ecomm.users`', '`looker-private-demo.ecomm.order_items`', '`looker-private-demo.ecomm.inventory_items`', '`looker-private-demo.ecomm.events`']" | "['order_items', 'order_facts', 'inventory_items', 'users', 'user_order_facts', 'products', 'repeat_purchase_facts', 'distribution_centers', 'test_ndt']"                 | "['`looker-private-demo.ecomm.users`', '`looker-private-demo.ecomm.inventory_items`', 'test_ndt', '`looker-private-demo.ecomm.products`', '`looker-private-demo.ecomm.order_items`']" | "['test_ndt', 'products', 'users', 'order_items', 'inventory_items']"                              | "['distribution_centers', 'order_facts', 'repeat_purchase_facts', 'user_order_facts']" |



In addition you can pre filter the returned dataset to find all the dashboard content that requires  specific field, or requires a specific table using the flags `--table` (`-t`), or `--field` (`-f`).

    lmanage mapview --path ./output/my_output.csv --ini-file ~/py/projects/ini/k8.ini --project /test_lookml_files/the_look -table "order_items"

## Fields Returneds
- **dashboard_id**, the id of the looker dashboard 	
- **element_id**, the id of the visualization element on the looker dashboard	
- **sql_joins**, the joins used in a query grouped by element id	
- **fields_used**, the fields used by the query grouped by element id
- **sql_table_name**, the underlying sql value being referenced at the view level of the lookml (assuming the view is standard)	
- **potential_join**, for the explore that powers the element query, what are all the potential joins available	
- **used_joins**, 	
- **used_view_names**,	
- **unused_joins**,
